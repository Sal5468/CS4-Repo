<!DOCTYPE html>
<!--   -->
<html>
  <head>
    <title>Ajax</title>
      <meta charset="utf-8"/>
      <style type="text/css">

      </style>
      <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  </head>

  <body>
    <div id="request">
      <input id="getButton" type="button" value="Get" />
      <input type= "text" id="name" value="name">
      <input type="number" id="num" value="0" min="0">
      <input id="postButton" type="button" value="Post" />

    </div>
    <script>
      var i=0

      function success(data)
      {
        console.log(data)
        if(data == null)
        {
          i = 0
          alert("error");
        }
        else
        {
          alert(data.name)
        }
      }

      function getClicked()
      {
        $.get("/getInfo", {index:i},success)
        i++
        return false
      }
      function postClicked()
      {
        $.post("/postInfo", {name: $("#name").val(), index: $("#num").val()},null)
        return false
      }

      $(document).ready(function()
      {
        $("#getButton").click(getClicked);
        $("#postButton").click(postClicked);
      });
    </script>
  </body>
</html>
